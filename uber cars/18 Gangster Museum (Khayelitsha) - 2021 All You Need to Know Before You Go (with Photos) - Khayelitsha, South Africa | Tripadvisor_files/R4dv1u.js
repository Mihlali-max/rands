(this.$WP=this.$WP||[]).push(["R4dv1u",(e,t)=>{"use strict";var a,o,n,s,r,c,i,l,h,u,d=e=>{var[t,s]=a.useState(e.defaultVisible),l=i(),{localize:h}=c(),u=a.useCallback(()=>{s(!0)},[]),{map:d}=e;a.useEffect(()=>(d.on("centerChange",u),d.on("zoomChange",u),()=>{d.off("centerChange",u),d.off("zoomChange",u)}),[d,u]);var m=a.useCallback(()=>{l({module:"map_view",action:"redo"}),e.onRedoSearch(),s(!1)},[e,l]);if("Rounded"===e.variant){var p=h.string("map_search_redo_search_button_text");return t&&a.createElement(n,{label:p,ariaLabel:p,onClick:m})}return t&&a.createElement("div",{className:"_1S_EkNr2",onClick:m},a.createElement("span",{className:"_7rpkRE97"},a.createElement(o,{name:"refresh"})),a.createElement("span",{className:"_38uOcEb9"},a.createElement(r,{id:"map_search_redo_search_button_text"})))},m=e=>a.createElement(h,null,({map:t})=>t?a.createElement(d,Object.assign({},e,{map:t})):null),p=e=>{var t=l({module:"search_toggle",action:"active"}),o=l({module:"search_toggle",action:"inactive"});return a.createElement(u,Object.assign({trackCheckboxClick:e=>e?t():o()},e))},v=e=>a.createElement(h,null,({map:t})=>t&&a.createElement(p,{defaultChecked:e.defaultChecked,onRedoSearch:e.onRedoSearch,map:t,variant:e.variant}));return[()=>{m.defaultProps={defaultVisible:!1},(u=class extends a.PureComponent{constructor(...e){super(...e),this.state={autoSearchEnabled:null,mapHasMoved:!1},this.onCheckboxClicked=()=>{var e=null===this.state.autoSearchEnabled?!this.props.defaultChecked:!this.state.autoSearchEnabled;this.props.trackCheckboxClick(e),this.setState({autoSearchEnabled:e})},this.onMapMoved=e=>{this.isAutoSearchEnabled()?this.onAutoSearch(e.userGesture):this.setState({mapHasMoved:!0})},this.onAutoSearch=e=>{this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.props.onRedoSearch(!0,e),this.timeout=null},0),this.setState({mapHasMoved:!1})},this.onManualRedoSearch=()=>{this.props.onRedoSearch(!1,!0),this.setState({mapHasMoved:!1})},this.timeout=void 0}componentDidMount(){var{map:e}=this.props;e.on("centerChange",this.onMapMoved),e.on("zoomChange",this.onMapMoved)}componentWillUnmount(){var{map:e}=this.props;e.off("centerChange",this.onMapMoved),e.off("zoomChange",this.onMapMoved),this.timeout&&clearTimeout(this.timeout)}isAutoSearchEnabled(){return null!==this.state.autoSearchEnabled?this.state.autoSearchEnabled:this.props.defaultChecked}render(){var e=this.isAutoSearchEnabled();return!this.isAutoSearchEnabled()&&this.state.mapHasMoved?a.createElement(m,{onRedoSearch:this.onManualRedoSearch,defaultVisible:!0,variant:this.props.variant}):"Rounded"===this.props.variant?a.createElement(s,{onClick:this.onCheckboxClicked,active:!!e}):a.createElement("div",{className:"nN3HHPj7"},a.createElement("div",{className:"n05_U_dD",onClick:this.onCheckboxClicked},a.createElement("div",{className:"_3_yRUXrk"},e&&a.createElement("span",{className:"_2xNL-XoT"},a.createElement(o,{name:"checkmark"}))),a.createElement("span",{className:"_3BpXZ7GK"},a.createElement(r,{id:"map_auto_search_label"}))))}}).defaultProps={defaultChecked:!1,variant:"Rectangular"},v.defaultProps={defaultChecked:!1,variant:"Rectangular"},e({AutoSearchToggle:v,RedoSearchButton:m})},[e=>a=e,e=>o=e.default,e=>(n=e.TextFloatingActionButton,s=e.SearchAsIMoveMapFloatingActionButton),e=>(r=e.default,c=e.useLocalize),e=>(i=e.useGARecorder,l=e.useGARecordCallback),e=>h=e.MapContextConsumer]]},["cDcdfi","pyY-iJ","yIC5Nu","0DsHEV","fsml46","VwUieX"]]);
