(this.$WP=this.$WP||[]).push(["eh0n4_",(e,t)=>{"use strict";var a,r,u,l,s,i=(e,t,a)=>{var r,u=`${a}${e}`,l=!1;return u+=(r=t.mediaId)?`/${r.id}:${r.type||"u"}`:"",(t.albumId||t.typeId||t.categoryId)&&(u+="/?",l=!0),l&&((t.albumId||0===t.albumId)&&(u+=`albumid=${t.albumId}&`),(t.typeId||0===t.typeId)&&(u+=`type=${t.typeId}&`),(t.categoryId||0===t.categoryId)&&(u+=`category=${t.categoryId}&`),"&"===u.substring(u.length-1)&&(u=u.substring(0,u.length-1))),u},n=(e,t)=>{var a=e.split("/");a.splice(0,2);var r,u,s,i,n,d=null,c=null,m="u";switch(a.length){case 0:break;case 1:[d]=a;break;case 2:a[1].indexOf("=")>0?[d,n]=a:[d,c]=a;break;case 3:[d,c,n]=a;break;default:[d,c,n]=a}if(null!=n){var g=new URLSearchParams(n);g.has("albumid")&&(u=g.get("albumid")),g.has("type")&&(s=g.get("type")),g.has("category")&&(i=g.get("category"))}if(null!=c){var o=c.split(":");r=Number(o.shift()),m=o.shift()}return{locationId:Number(d),state:{mediaId:null!=r?{id:r,type:l(m)}:null,albumId:Number(u),typeId:Number(s),categoryId:Number(i),sort:t}}},d=(e,t,l,d)=>{var[{fragment:c},{navigateToFragment:m}]=a.useContext(u),g=e||0,o=a.useRef(t),I=a.useRef(c),f=null!=l&&""!==l?`/media-${l}/`:"/media/",{sort:y}=t||{},b=a.useMemo(()=>c&&c.startsWith(f)?n(c,y):null,[c,f,y]),[p,v]=a.useState(null==b?void 0:b.state);return a.useEffect(()=>{p&&!b?v(null):!p&&b&&v(b.state)},[b,p]),a.useEffect(()=>{var e=!r(o.current,t),a=I.current!==c;if(a&&!e)c&&!c.startsWith(f)?d({type:s.close}):b&&d({type:s.routeNavigate,newState:b.state});else if(!a&&e){var u=t?i(g,t,f):"";if(u!==c){var l=((e,t)=>null===e&&null!==t||!(null==e?void 0:e.mediaId)&&(null==t?void 0:t.mediaId)?"FRAGMENT_PUSH":"IN_PLACE")(o.current,t);m(u,l)}}o.current=t,I.current=c},[t,c,f,b,m,g,d]),{clearFragment:a.useCallback(()=>{c&&m("","IN_PLACE")},[c,m]),initialRouteState:p}};return[()=>{e("default",d),e({defaultFragmentPrefix:"/media/",generateFragmentRoute:i,getStateFromFragment:n,useRouteHandler:d})},[e=>a=e,e=>r=e.default,e=>u=e.Route,e=>(l=e.validateMediaType,s=e.actions)]]},["cDcdfi","YwNsO_","2R4xv2","wc54S1"]]);
