(this.$WP=this.$WP||[]).push(["mGqah_",(e,t)=>{"use strict";var a,r,n,i,l,o,s,m,u,c,d,v,_,p,g,E,h,f,C,k,N,V,y,x,A,T={maxHeight:1388,maxWidth:1728,urlTemplate:"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1d/1c/9a/45/caption.jpg?w={width}&h={height}&s=1"},b=()=>{var{localize:e}=p(),[,{uid:t}]=n(g),a=C(),o=k(),[s]=i(h()),m=f(()=>{a({optimusAd:{pageviewUid:t,funnelKey:s,position:"NOVA_FALLBACK"}})}),u=l(()=>{o({OptimusAdInteraction:{optimusAdClick:{pageviewUid:t,funnelKey:s,position:"NOVA_FALLBACK"}}})},[o,t,s]),c="/DiscoverPlus?ik="+s;return r.createElement("div",{ref:m},r.createElement(v,{title:e.string("plus_home_takeover_nova_header"),subtitle:e.string("plus_home_takeover_nova_subheader"),ctaText:e.string("plus_home_takeover_learn_more"),href:c,backgroundColor:"plusBackground",image:T,contentHeader:r.createElement(_,{variant:"plus-logo-text-white",height:20}),onClick:u}))},F=({takeoverVariant:e})=>{switch(e){case"Optimus":return r.createElement(b,null);default:return console.error("Missing nova ad takeover fallback for variant: "+e),null}},w=e=>{var{position:t,takeoverVariant:r,children:n,aboveTheFold:i}=e,{ref:l,id:o,isEmpty:m,isRendered:c}=u("3x3",t,"",!!i),d=!!r,v=c&&m,_=v&&"Optimus"===r;return a.createElement("div",{className:s({"fzCBcYF-":d&&!_,_3mtqMHoz:d&&_,_3j1YETle:!d})},v&&((e,t)=>e?a.createElement(F,{takeoverVariant:e}):a.createElement(a.Fragment,null,t))(r,n),a.createElement("div",{id:o,ref:l,className:s(d?"_1JTlz-iu":"_1lvyVuy1",{CQXo8UdE:m})}))},L=()=>a.createElement("div",{className:s("_3CPSijVF","_3j1YETle")},a.createElement(c,{position:"RailNova",size:"3x3"})),B=e=>{var{position:t}=e;return a.createElement(a.Fragment,null,"InlineNova"===t&&a.createElement(w,e),"RailNova"===t&&a.createElement(L,null))},R=e=>{var t=d(e.position),r=e.additionalTargeting?e.additionalTargeting:{};r.fluidType="nova";var n=Object.assign({},e,{takeoverVariant:t});return a.createElement(m,{value:r},a.createElement(B,n))},j=({theme:e,onClose:t})=>{var{localize:a}=p();return r.createElement("button",{className:s("_3VE6RlYz",{BEGxltzV:"sand"===e,_1dTkQgVP:"mint"===e,_3eC45gvy:"juniper"===e}),onClick:t,"aria-label":a.string("common_Close"),type:"button"},r.createElement(y,{name:"times"}))},z=({maxViews:e,storageKey:t,theme:a="mint",onClose:n,onVisible:i,children:l})=>{var{isWebview:o}=r.useContext(E),[s,m]=r.useState(!1),u=f(()=>{i&&i()}),c=r.useCallback(()=>{m(!1),V.set(t,e),n&&n()},[e,n,t]);return r.useEffect(()=>{var a=V.has(t)?parseInt(V.get(t),10):0;a<e&&(m(!0),V.set(t,a+1))},[e,t]),!s||o?null:r.createElement(A,{theme:a,ref:u},r.createElement("div",{className:"_1ZFfyUQK"},r.createElement(j,{theme:a,onClose:c})),r.createElement("div",{className:"_3iaIfhPx"},l))},I=()=>{var[{page:e}]=r.useContext(g),t=N(),a=a=>{t({module:"Nova_Forum",context:e,action:a})},{ref:n,id:i,isEmpty:l,isLoaded:o}=u("3x3","SUNova","",!0);return r.createElement("div",{className:s({_1GauYv5B:!o||l})},r.createElement(z,{storageKey:"novaForumViewCount",maxViews:2,theme:"nova",onVisible:()=>{a("Nova_Forum_seen")},onClose:()=>{a("Nova_Forum_closed")}},r.createElement("div",{ref:n,id:i,className:s("w_Sw_mAK")})))},K=()=>r.createElement(m,{value:{fluidType:"nova"}},r.createElement(I,null));return[()=>{x=o(R),(A=r.forwardRef(({theme:e,children:t},a)=>r.createElement("div",{ref:a,className:s("_1puR8ZvZ",{"_1AlP-016":"mint"===e,_3gHlv5ZF:"sand"===e,_3aiNK3AZ:"juniper"===e,_2mmoTapJ:"nova"===e}),role:"dialog"},t))).displayName="PromoContentContainer",e("default",x),e("NovaStickyAd",K)},[e=>(a=e,r=e.default,n=e.useContext,i=e.useState,l=e.useCallback,o=e.memo),e=>s=e.default,e=>(m=e.AdTargetingProvider,u=e.useAd,c=e.RailAd),e=>d=e.useTakeoverVariant,e=>v=e.InsetImageFeatureCard,e=>_=e.default,e=>p=e.useLocalize,e=>(g=e.Route,E=e.Device),e=>h=e.uuid,e=>f=e.useOnVisible,e=>C=e.useImpressionLogger,e=>(k=e.useInteractionLogger,N=e.useGARecorder),e=>V=e.default,e=>y=e.default]]},["cDcdfi","jSLlaY","tV1cF7","q0TyIl","U1tcLB","TkeYrn","0DsHEV","2R4xv2","O-HcBE","BLrxBS","30t50h","fsml46","jaCyxS","pyY-iJ"]]);
